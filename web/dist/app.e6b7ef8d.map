{"version":3,"sources":["config.js","route.js","components/app/controller.js","components/app/index.js","components/login/controller.js","components/login/index.js","components/dashboard/controller.js","components/dashboard/index.js","components/base-controller.js","components/tenant-dialog/controller.js","components/tenant-dialog/index.js","components/tenant-list/controller.js","components/tenant-list/index.js","components/user-detail/controller.js","components/user-detail/index.js","components/tenant-detail/controller.js","components/tenant-detail/index.js","components/receipt-dialog/controller.js","components/receipt-dialog/index.js","components/cart/controller.js","components/cart/index.js","components/order-list/controller.js","components/order-list/index.js","components/menu-dialog/controller.js","components/menu-dialog/index.js","components/order-detail/controller.js","components/order-detail/index.js","components/menu-list/controller.js","components/menu-list/index.js","components/category-dialog/controller.js","components/category-dialog/index.js","components/category-list/controller.js","components/category-list/index.js","components/user-dialog/controller.js","components/user-dialog/index.js","components/user-list/controller.js","components/user-list/index.js","services/auth-service.js","components/confirm-dialog/controller.js","components/confirm-dialog/index.js","services/dialog-service.js","services/websocket-service.js","api/base-api.js","api/auth-api.js","api/tenant-api.js","api/user-api.js","api/menu-api.js","api/category-api.js","api/order-api.js","app.js"],"names":["api","states","HOME","LOGIN","DASHBOARD","TENANT_LIST","TENANT_DETAIL","CART","ORDER_LIST","ORDER_DETAIL","MENU_LIST","CATEGORY_LIST","actions","VIEW","CREATE","UPDATE","DELETE","$stateProvider","$locationProvider","posgram","state","config","url","template","$rootScope","$state","$timeout","window","localStorage","removeItem","global","user","isLoggedIn","go","name","tenant","controller","AuthApi","DialogService","confirm","ctx","document","getElementById","myChart","Chart","type","data","labels","datasets","lineTension","backgroundColor","borderColor","borderWidth","pointBackgroundColor","options","scales","yAxes","ticks","beginAtZero","legend","display","BaseController","$scope","$http","$uibModalInstance","TenantApi","UserApi","_id","find","then","users","docs","catch","toastr","error","err","message","close","validate","create","update","code","username","password","isAdmin","isManager","_","clone","isLocked","$sce","pagination","page","limit","search","query","searchText","tenants","result","extend","pick","inputs","open","TenantDialog","push","item","selectedTab","tab","UserDetailDailog","order","MenuApi","OrderApi","subtotal","discount","tax","total","items","selectedTag","menus","findTags","tags","splice","tag","menu","quantity","calculate","some","indexOf","filter","forEach","unitPrice","length","success","ReceiptDialog","orders","confirmed","delete","reduce","value","CategoryApi","categories","init","MenuDialog","isPercentDiscount","appConfig","category","subs","_t","Date","getTime","sub","isDeleted","displayIndex","CategoryDialog","parent","isPasswordEditing","newPassword","UserDialog","$modalInstance","$modal","$uibModal","dialog","size","controllerAs","backdrop","resolve","Object","keys","key","assign","ConfirmDialog","registers","arr","location","href","split","socket","io","on","token","getItem","emit","console","log","msg","JSON","stringify","parse","messsage","doDispatch","register","topic","handler","angular","isFunction","id","remove","BaseApi","$q","resource","endpoint","reject","get","res","post","put","headers","btoa","module","component","app","login","dashboard","tenantList","tenantDetail","cart","orderList","orderDetail","menuList","categoryList","userList","service","authService","dialogService","websocketService","authApi","tenantApi","userApi","menuApi","categoryApi","orderApi","constant","route","hashPrefix","run","$window","AuthService","$on","event","toState","toParams","fromState","fromParams","scrollTo","isAuthenticated","preventDefault","element","ready","bootstrap"],"mappings":"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","file":"app.e6b7ef8d.map","sourceRoot":"..","sourcesContent":["export default {\n  api: 'http://localhost:8080/api',\n  states: {\n    HOME: 'Home',\n    LOGIN: 'Login',\n    DASHBOARD: 'Dashboard',\n    TENANT_LIST: 'TenantList',\n    TENANT_DETAIL: 'TenantDetail',\n    CART: 'Cart',\n    ORDER_LIST: 'OrderList',\n    ORDER_DETAIL: 'OrderDetail',\n    MENU_LIST: 'MenuList',\n    CATEGORY_LIST: 'CategoryList'\n  },\n  actions: {\n    VIEW: 'View',\n    CREATE: 'Create',\n    UPDATE: 'Update',\n    DELETE: 'Delete'\n  }\n}","export default [\n  '$stateProvider', '$locationProvider', 'posgram', \n  function ($stateProvider, $locationProvider, posgram) {\n    $stateProvider\n      .state(posgram.config.states.HOME, {\n        url: '^',\n        template: '<pos-login/>'\n      })\n      .state(posgram.config.states.LOGIN, {\n        url: '/login',\n        template: '<pos-login/>'\n      })\n      .state(posgram.config.states.DASHBOARD, {\n        url: '/dasboard',\n        template: '<pos-dashboard/>'\n      })\n      .state(posgram.config.states.TENANT_LIST, {\n        url: '/tenants',\n        template: '<pos-tenant-list/>'\n      })\n      .state(posgram.config.states.TENANT_DETAIL, {\n        url: '/shop',\n        template: '<pos-tenant-detail/>'\n      })\n      .state(posgram.config.states.CART, {\n        url: '/cart',\n        template: '<pos-cart/>'\n      })\n      .state(posgram.config.states.ORDER_LIST, {\n        url: '/orders',\n        template: '<pos-order-list/>'\n      })\n      .state(posgram.config.states.ORDER_DETAIL, {\n        url: '/orders/:id',\n        template: '<pos-order-detail/>'\n      })\n      .state(posgram.config.states.MENU_LIST, {\n        url: '/menu',\n        template: '<pos-menu-list/>'\n      })\n      .state(posgram.config.states.CATEGORY_LIST, {\n        url: '/category',\n        template: '<pos-category-list/>'\n      })      \n  }\n]","export default [\n  '$rootScope', '$state', '$timeout', 'posgram',\n  class Controller {\n    constructor($rootScope, $state, $timeout, posgram) {\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.posgram = posgram;\n    }\n\n    get isLoggedIn() {\n      return this.$rootScope.isLoggedIn;\n    }\n\n    get isSudo() {\n      return this.$rootScope.global.user.name === \"sudo\";\n    }\n\n    get loggedUser() {\n      return this.$rootScope.global.user;\n    }\n\n    get tenant() {\n      return this.$rootScope.global.user.tenant;\n    }\n\n    logout() {\n      window.localStorage.removeItem('token');\n      this.$rootScope.global.user = null;\n      this.$rootScope.isLoggedIn = false;\n      this.$state.go(this.posgram.config.states.LOGIN);\n    }    \n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","export default [\n  '$rootScope', '$state', '$timeout', 'posgram', 'AuthApi', 'DialogService',\n  class Controller {\n    constructor($rootScope, $state, $timeout, posgram, AuthApi, DialogService) {\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.posgram = posgram;\n      this.AuthApi = AuthApi;\n      this.DialogService = DialogService;\n    }\n\n    login() {\n      this.DialogService.confirm('login ?')\n      // alert('login')\n      // this.$state.go(this.posgram.config.states.DASHBOARD);\n      // this.AuthApi.login(this.username, this.password)\n      //   .then(result => {\n      //     if (!result.token) return toastr.error(result.error);\n\n      //     window.localStorage.setItem('token', result.token);\n          \n      //     let payload = result.token.split('.')[1];\n      //     payload = payload.replace('-', '+').replace('_', '/');\n      //     payload = JSON.parse(window.atob(payload));\n\n      //     this.$rootScope.global.user = payload;\n      //     this.$rootScope.isLoggedIn = true;\n      //     this.$state.go(this.posgram.config.states.HOME);\n      //   })\n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","export default [\n  '$rootScope', '$state', '$timeout', 'posgram',\n  class Controller {\n    constructor($rootScope, $state, $timeout, posgram) {\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.posgram = posgram;\n      $timeout(function() {\n        var ctx = document.getElementById(\"myChart\");\n        var myChart = new Chart(ctx, {\n          type: 'line',\n          data: {\n            labels: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n            datasets: [{\n              data: [15339, 21345, 18483, 24003, 23489, 24092, 12034],\n              lineTension: 0,\n              backgroundColor: 'transparent',\n              borderColor: '#007bff',\n              borderWidth: 4,\n              pointBackgroundColor: '#007bff'\n            }]\n          },\n          options: {\n            scales: {\n              yAxes: [{\n                ticks: {\n                  beginAtZero: false\n                }\n              }]\n            },\n            legend: {\n              display: false,\n            }\n          }\n        });        \n      }, 0);\n    }\n\n    get isLoggedIn() {\n      return this.$rootScope.isLoggedIn;\n    }\n\n    get isSudo() {\n      return this.$rootScope.global.user.name === \"sudo\";\n    }\n\n    get loggedUser() {\n      return this.$rootScope.global.user;\n    }\n\n    get tenant() {\n      return this.$rootScope.global.user.tenant;\n    }\n\n    logout() {\n      window.localStorage.removeItem('token');\n      this.$rootScope.global.user = null;\n      this.$rootScope.isLoggedIn = false;\n      this.$state.go(this.posgram.config.states.LOGIN);\n    }    \n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","export default class BaseController {\n  constructor() {\n  }\n}","import BaseController from '../base-controller';\n\nexport default [\n  '$rootScope', '$scope', '$http', 'posgram', '$uibModalInstance', 'TenantApi', 'UserApi', 'tenant',\n  class Controller extends BaseController {\n    constructor($rootScope, $scope, $http, posgram, $uibModalInstance, TenantApi, UserApi, tenant) {\n      super()\n      this.$http = $http;\n      this.$scope = $scope;\n      this.$uibModalInstance = $uibModalInstance;\n      this.TenantApi = TenantApi;\n      this.UserApi = UserApi;\n      this.tenant = tenant || {};\n      this.user = {};\n    }\n\n    $onInit() {\n      if (this.tenant._id) {\n        this.UserApi.find(`tenant._id=${this.tenant._id}`)\n          .then(users => {\n            this.users = users.docs || []\n          })\n          .catch(err => {\n            toastr.error(err.data.message);\n          })\n      }\n    }\n\n    cancel() {\n      this.$uibModalInstance.close(false);\n    }\n\n    save() {\n      if (!this.validate()) return;\n\n      if (!this.tenant._id) {\n        let data = {\n          tenant: this.tenant,\n          user: this.user\n        }\n\n        return this.TenantApi.create(data)\n          .then(tenant => {\n            this.$uibModalInstance.close(tenant);\n          })\n          .catch(err => {\n            toastr.error(err.message);\n          })\n      } \n\n      let data = {\n        tenant: this.tenant\n      }\n\n      return this.TenantApi.update(this.tenant._id, this.tenant)\n        .then(result => {\n          this.$uibModalInstance.close(this.tenant);\n        })\n        .catch(err => {\n          toastr.error(err.message);\n        })\n    }\n\n    validate() {\n      if (!this.tenant.name) {\n        toastr.error(\"Shop name is required\");\n        return false;\n      }\n\n      if (!this.tenant.code) {\n        toastr.error(\"Shop code is required\");\n        return false;\n      }\n\n      if (!this.tenant._id) {\n        if (!this.user.name) {\n          toastr.error(\"Admin name is required\");\n          return false;\n        } \n\n        if (!this.user.username) {\n          toastr.error(\"Login ID is required\");\n          return false;\n        }\n\n        if (!this.user.password) {\n          toastr.error(\"Password is required\");\n          return false;\n        } \n      }\n      \n      return true;\n    }\n\n    getUserRole(user) {\n      if (user.isAdmin) return \"Admin\" \n      if (user.isManager) return \"Manager\" \n      return \"Staff\"      \n    }\n\n    lockUser(user) {\n      let data = _.clone(user);\n      data.isLocked = true;\n\n      return this.UserApi.update(data._id, data)\n        .then(result => {\n          user.isLocked = true;\n        })\n        .catch(err => {\n          toastr.error(err.message);\n        })      \n    }\n\n    unlockUser(user) {\n      let data = _.clone(user);\n      data.isLocked = false;\n\n      return this.UserApi.update(data._id, data)\n        .then(result => {\n          user.isLocked = false;\n        })\n        .catch(err => {\n          toastr.error(err.message);\n        })      \n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport TenantDialog from '../tenant-dialog';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService', 'TenantApi',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService, TenantApi) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n      this.TenantApi = TenantApi;\n    }\n\n    $onInit() {\n      this.pagination = {\n        page: 1,\n        limit: 10\n      };\n\n      this.search();\n    }\n\n    search() {\n      let query = this.searchText ? `text=${this.searchText}` : null;\n      this.TenantApi.find(query, this.pagination)\n        .then(result => {\n          this.tenants = result.docs || [];\n          this.pagination = _.extend(this.pagination, _.pick(result, ['total', 'limit', 'page', 'pages']));\n        })\n    }\n\n    create() {\n      let inputs = {\n        tenant: null\n      };\n\n      this.DialogService.open(TenantDialog, inputs)\n        .then(tenant => {\n          if (!tenant) return;\n          this.tenants.push(tenant);\n        })\n    }\n\n    edit(tenant) {\n      let inputs = {\n        tenant: _.clone(tenant)\n      };\n\n      this.DialogService.open(TenantDialog, inputs)\n        .then(tenant => {\n          if (!tenant) return;\n          let item = _.find(this.tenants, item => {\n            return item._id === tenant._id;\n          })\n          if (item) _.extend(item, tenant);\n        })\n    }\n\n    getTenantStatus(tenant) {\n      if (tenant.isLocked) return \"Locked\"\n      return \"\" \n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\n\nexport default [\n  '$rootScope', '$scope', '$http', 'posgram', '$uibModalInstance', 'UserApi', 'user',\n  class Controller extends BaseController {\n    constructor($rootScope, $scope, $http, posgram, $uibModalInstance, UserApi, user) {\n      super()\n      this.$http = $http;\n      this.$scope = $scope;\n      this.$uibModalInstance = $uibModalInstance;\n      this.UserApi = UserApi;\n      this.user = user || {};\n    }\n\n    cancel() {\n      this.$uibModalInstance.close(false);\n    }\n\n    save() {\n      if (this.user._id) this.create()\n      else this.update();\n      // return this.DeliveryApi.updateCOD(this.order._id, this.codAmount, this.notes)\n      //   .then(delivery => {\n      //     this.$uibModalInstance.close(delivery);\n      //   })\n      //   .catch(err => {\n      //     this.showDangerAlert(\"Cannot edit COD\");\n      //   })\n    }\n\n    create() {\n      return this.UserApi.create(this.user)\n        .then(user => {\n          this.$uibModalInstance.close(user);\n        })\n        .catch(err => {\n          // this.showDangerAlert(\"Cannot edit COD\");\n        })\n    }\n\n    update() {\n\n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport UserDetailDailog from '../user-detail';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n    }\n\n    $onInit() {\n      this.selectedTab = 'users';\n    }\n\n    selectTab(tab) {\n      this.selectedTab = tab;\n    }\n\n    isSelectedTab(tab) {\n      return this.selectedTab === tab;\n    }\n\n    create() {\n      let inputs = {\n        user: null\n      };\n\n      this.DialogService.open(UserDetailDailog, inputs);\n    }\n\n    edit(user) {\n      let inputs = {\n        user: user\n      };\n\n      this.DialogService.open(UserDetailDailog, inputs);\n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\n\nexport default [\n  '$rootScope', '$scope', '$http', 'posgram', '$uibModalInstance', 'order',\n  class Controller extends BaseController {\n    constructor($rootScope, $scope, $http, posgram, $uibModalInstance, order) {\n      super()\n      this.$http = $http;\n      this.$scope = $scope;\n      this.$uibModalInstance = $uibModalInstance;\n      this.order = order;\n    }\n\n    close() {\n      this.$uibModalInstance.close(false);\n    }\n\n    print() {\n      this.$uibModalInstance.close(false);\n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport ReceiptDialog from '../receipt-dialog';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService', 'MenuApi', 'OrderApi',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService, MenuApi, OrderApi) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n      this.MenuApi = MenuApi;\n      this.OrderApi = OrderApi;\n    }\n\n    $onInit() {\n      this.order = {\n        subtotal: 0,\n        discount: 0,\n        tax: 0,\n        total: 0,\n        items: []\n      }\n\n      this.selectedTag = 'All';\n\n      this.MenuApi.find()\n        .then(result => {\n          this.menus = result;\n        })\n\n      this.MenuApi.findTags()\n        .then(result => {\n          this.tags = result;\n          this.tags.splice(0, 0, 'All')\n        })\n    }\n\n    selectTag(tag) {\n      this.selectedTag = tag;\n    }\n\n    isSelectedTag(tag) {\n      return this.selectedTag === tag;\n    }\n\n    selectMenu(menu) {\n      let item = _.find(this.order.items, item => {\n        return item.name === menu.name;\n      })\n\n      if (item) {\n        item.quantity++;\n      } else {\n        item = _.clone(menu);\n        item.quantity = 1;\n        this.order.items.push(item);\n      }\n\n      this.calculate();\n    }\n\n    isSelectedMenu(menu) {\n      return _.some(this.order.items, item => {\n        return item.name === menu.name;\n      })\n    }\n\n    canShowMenu(menu) {\n      if (!this.selectedTag || this.selectedTag === 'All') return true;\n      return menu.tags.indexOf(this.selectedTag) >= 0;\n    }\n\n    increaseQuantity(item) {\n      item.quantity++;\n      this.calculate();\n    }\n\n    decreaseQuantity(item) {\n      item.quantity--;\n\n      if (item.quantity === 0) {\n        this.order.items = _.filter(this.order.items, menu => {\n          return menu._id != item._id; \n        });\n      }\n\n      this.calculate();\n    }\n\n    calculate() {\n      let subtotal = 0;\n      let discount = 0;\n      let total = 0;\n\n      this.order.items.forEach(item => {\n        item.subtotal = item.quantity * item.unitPrice;\n        item.discount = 0;\n        item.total = item.subtotal - item.discount;\n\n        subtotal += item.subtotal;\n        discount += item.discount;\n        total += item.total;\n      });\n\n      this.order.subtotal = subtotal;\n      this.order.discount = discount;\n      this.order.tax = 0.11 * total;\n      this.order.total = total + this.order.tax;\n    }\n\n    discard() {\n      this.DialogService.confirm('Do you want to discard?')\n        .then(result => {\n          if (!result) return;\n          this.order = {\n            subtotal: 0,\n            discount: 0,\n            tax: 0,\n            total: 0,\n            items: []\n          }\n\n          this.selectedTag = 'All';\n        })\n    }\n\n    confirm() {\n      if (this.order.items.length === 0) {\n        return toastr.error('Select items to confirm');\n      }\n\n      return this.OrderApi.create(this.order)\n        .then(order => {\n          toastr.success('Created successfully');\n    \n          let inputs = {\n            order: _.clone(order)\n          };\n\n          this.DialogService.open(ReceiptDialog, inputs)\n            .then(result => {\n              this.order = {\n                subtotal: 0,\n                discount: 0,\n                tax: 0,\n                total: 0,\n                items: []\n              }\n\n              this.selectedTag = 'All';\n            })\n        })\n        .catch(err => {\n          toastr.error(err.message);\n        })      \n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport ReceiptDialog from '../receipt-dialog';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService', 'OrderApi',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService, OrderApi) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n      this.OrderApi = OrderApi;\n    }\n\n    $onInit() {\n      this.pagination = {\n        page: 1,\n        limit: 10\n      };\n\n      this.search();\n    }\n\n    search() {\n      let query = this.searchText ? `text=${this.searchText}` : null;\n      this.OrderApi.find(query, this.pagination)\n        .then(result => {\n          this.orders = result.docs || [];\n          this.pagination = _.extend(this.pagination, _.pick(result, ['total', 'limit', 'page', 'pages']));\n        })\n    }\n\n    view(order) {\n      let inputs = {\n        order: _.clone(order)\n      };\n\n      this.DialogService.open(ReceiptDialog, inputs)\n        .then(order => {\n          if (!order) return;\n          let item = _.find(this.orders, item => {\n            return item._id === order._id;\n          })\n          if (item) _.extend(item, order);\n        })      \n    }\n\n    delete(order) {\n      this.DialogService.confirm(\"Do you want to delete?\")\n        .then(confirmed => {\n          if (!confirmed) return;\n          this.OrderApi.delete(order._id)\n            .then(result => {\n              this.orders = _.filter(this.orders, item => {\n                return item._id != order._id;\n              })                       \n              toastr.success('Deleted successfully');\n            })\n            .catch(err => {\n              toastr.error('Deleted failed');\n            })          \n        })\n    }\n\n    getTags(order) {\n      if (!order.tags) return null;\n      return order.tags.reduce((value, item) => `${value}, ${item}`);\n    }\n\n    getStatus(order) {\n      if (order.isLocked) return \"Locked\";\n      return null;\n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\n\nexport default [\n  '$rootScope', '$scope', '$http', 'posgram', '$uibModalInstance', 'MenuApi', 'CategoryApi', 'menu',\n  class Controller extends BaseController {\n    constructor($rootScope, $scope, $http, posgram, $uibModalInstance, MenuApi, CategoryApi, menu) {\n      super()\n      this.$http = $http;\n      this.$scope = $scope;\n      this.$uibModalInstance = $uibModalInstance;\n      this.MenuApi = MenuApi;\n      this.CategoryApi = CategoryApi;\n      this.menu = menu || {};\n\n      this.categories = [];\n\n      this.init();\n    }\n\n    init() {\n      return this.CategoryApi.find()\n        .then(result => {\n          this.categories = result;\n        })\n    }\n\n    cancel() {\n      this.$uibModalInstance.close(false);\n    }\n\n    save() {\n      if (!this.validate()) return;\n\n      if (this.menu._id) {\n        return this.MenuApi.update(this.menu._id, this.menu)\n          .then(result => {\n            toastr.success('Updated successfully');\n            this.$uibModalInstance.close(this.menu);\n          })\n          .catch(err => {\n            toastr.error(err.message);\n          })\n      } else {\n        return this.MenuApi.create(this.menu)\n          .then(menu => {\n            toastr.success('Created successfully');\n            this.$uibModalInstance.close(menu);\n          })\n          .catch(err => {\n            toastr.error(err.message);\n          })        \n      }\n    }\n\n    validate() {\n      if (!this.menu.name) {\n        toastr.error(\"Name is required\");\n        return false;\n      }\n\n      if (!this.menu.unitPrice) {\n        toastr.error(\"Unit price is required\");\n        return false;\n      } \n      \n      return true;\n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport MenuDialog from '../menu-dialog';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService', 'MenuApi',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService, MenuApi) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n      this.MenuApi = MenuApi;\n    }\n\n    $onInit() {\n      this.pagination = {\n        page: 1,\n        limit: 10\n      };\n\n      this.search();\n    }\n\n    search() {\n      let query = this.searchText ? `text=${this.searchText}` : null;\n      this.MenuApi.find(query, this.pagination)\n        .then(result => {\n          this.menus = result.docs || [];\n          this.pagination = _.extend(this.pagination, _.pick(result, ['total', 'limit', 'page', 'pages']));\n        })\n    }\n\n    create() {\n      let inputs = {\n        menu: null\n      };\n\n      this.DialogService.open(MenuDialog, inputs)\n        .then(menu => {\n          if (!menu) return;\n          this.menus.push(menu);\n        })      \n    }\n\n    edit(menu) {\n      let inputs = {\n        menu: _.clone(menu)\n      };\n\n      this.DialogService.open(MenuDialog, inputs)\n        .then(menu => {\n          if (!menu) return;\n          let item = _.find(this.menus, item => {\n            return item._id === menu._id;\n          })\n          if (item) _.extend(item, menu);\n        })      \n    }\n\n    getTags(menu) {\n      if (!menu.tags) return null;\n      return menu.tags.reduce((value, item) => `${value}, ${item}`);\n    }\n\n    getStatus(menu) {\n      if (menu.isLocked) return \"Locked\";\n      return null;\n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport MenuDialog from '../menu-dialog';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService', 'MenuApi',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService, MenuApi) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n      this.MenuApi = MenuApi;\n    }\n\n    $onInit() {\n      this.pagination = {\n        page: 1,\n        limit: 10\n      };\n\n      this.search();\n    }\n\n    search() {\n      let query = this.searchText ? `text=${this.searchText}` : null;\n      this.MenuApi.find(query, this.pagination)\n        .then(result => {\n          this.menus = result.docs || [];\n          this.pagination = _.extend(this.pagination, _.pick(result, ['total', 'limit', 'page', 'pages']));\n        })\n    }\n\n    create() {\n      let inputs = {\n        menu: null\n      };\n\n      this.DialogService.open(MenuDialog, inputs)\n        .then(menu => {\n          if (!menu) return;\n          this.menus.push(menu);\n        })      \n    }\n\n    edit(menu) {\n      let inputs = {\n        menu: _.clone(menu)\n      };\n\n      this.DialogService.open(MenuDialog, inputs)\n        .then(menu => {\n          if (!menu) return;\n          let item = _.find(this.menus, item => {\n            return item._id === menu._id;\n          })\n          if (item) _.extend(item, menu);\n        })      \n    }\n\n    delete(menu) {\n      this.DialogService.confirm(\"Do you want to delete?\")\n        .then(confirmed => {\n          if (!confirmed) return;\n          this.MenuApi.delete(menu._id)\n            .then(result => {\n              this.menus = _.filter(this.menus, item => {\n                return item._id != menu._id;\n              })                       \n              toastr.success('Deleted successfully');\n            })\n            .catch(err => {\n              toastr.error('Deleted failed');\n            })          \n        })\n    }\n\n    getDiscount(menu) {\n      if (!menu.discount) return null;\n      if (menu.isPercentDiscount) return `${menu.discount}%`;\n      return \"$\" + `${menu.discount}`;\n    }\n\n    getStatus(menu) {\n      if (menu.isLocked) return \"Locked\";\n      return null;\n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\n\nexport default [\n  '$rootScope', '$scope', '$http', 'appConfig', '$uibModalInstance', 'CategoryApi', 'category',\n  class Controller extends BaseController {\n    constructor($rootScope, $scope, $http, appConfig, $uibModalInstance, CategoryApi, category) {\n      super()\n      this.$http = $http;\n      this.$scope = $scope;\n      this.$uibModalInstance = $uibModalInstance;\n      this.CategoryApi = CategoryApi;\n      this.category = category || {};\n    }\n\n    cancel() {\n      this.$uibModalInstance.close(false);\n    }\n\n    addSub() {\n      this.category.subs = this.category.subs || [];\n      this.category.subs.push({\n        _t: (new Date()).getTime()\n      })\n    }\n\n    deleteSub(sub) {\n      sub.isDeleted = true;\n    }\n\n    save() {\n      if (!this.validate()) return;\n\n      this.category.displayIndex = this.category.displayIndex || 1;\n      if (this.category.subs) {\n        this.category.subs.forEach(item => {\n          item.displayIndex = item.displayIndex || 1;\n        })\n      }\n\n      if (this.category._id) {\n        return this.CategoryApi.update(this.category._id, this.category)\n          .then(result => {\n            toastr.success('Updated successfully');\n            this.$uibModalInstance.close(this.category);\n          })\n          .catch(err => {\n            toastr.error(err.message);\n          })\n      } else {\n        return this.CategoryApi.create(this.category)\n          .then(category => {\n            toastr.success('Created successfully');\n            this.$uibModalInstance.close(category);\n          })\n          .catch(err => {\n            toastr.error(err.message);\n          })        \n      }\n    }\n\n    validate() {\n      if (!this.category.name) {\n        toastr.error(\"Name is required\");\n        return false;\n      }\n\n      if (this.category.sub) {\n        this.category.subs.forEach(item => {\n          if (!item.name) {\n            toastr.error(\"Name is required\");\n            return false;\n          }\n        })\n      }\n      \n      return true;\n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport CategoryDialog from '../category-dialog';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService', 'CategoryApi',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService, CategoryApi) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n      this.CategoryApi = CategoryApi;\n    }\n\n    $onInit() {\n      this.search();\n    }\n\n    search() {\n      this.CategoryApi.find()\n        .then(result => {\n          this.categories = result;\n        })\n    }\n\n    create() {\n      let inputs = {\n        category: null\n      };\n\n      this.DialogService.open(CategoryDialog, inputs)\n        .then(category => {\n          if (!category) return;\n          this.search();\n        })      \n    }\n\n    edit(category) {\n      let inputs = {\n        category: _.clone(category)\n      };\n\n      this.DialogService.open(CategoryDialog, inputs)\n        .then(category => {\n          if (!category) return;\n          this.search();\n        })      \n    }\n\n    delete(category) {\n      this.DialogService.confirm(\"Do you want to delete?\")\n        .then(confirmed => {\n          if (!confirmed) return;\n          this.CategoryApi.delete(category._id)\n            .then(result => {\n              this.search();              \n              toastr.success('Deleted successfully');\n            })\n            .catch(err => {\n              toastr.error('Deleted failed');\n            })          \n        })\n    }\n\n    getParent(category) {\n      let parent = _.find(this.categories, item => {\n        return item._id === category.parent;\n      })\n      return parent ? parent.name : \"\";\n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\n\nexport default [\n  '$rootScope', '$scope', '$http', 'posgram', '$uibModalInstance', 'UserApi', 'user',\n  class Controller extends BaseController {\n    constructor($rootScope, $scope, $http, posgram, $uibModalInstance, UserApi, user) {\n      super()\n      this.$http = $http;\n      this.$scope = $scope;\n      this.$uibModalInstance = $uibModalInstance;\n      this.UserApi = UserApi;\n      this.user = user || {};\n      this.isPasswordEditing = false;\n    }\n\n    cancel() {\n      this.$uibModalInstance.close(false);\n    }\n\n    save() {\n      if (!this.validate()) return;\n\n      if (this.user._id) {\n        this.user.password = this.newPassword;\n        return this.UserApi.update(this.user._id, this.user)\n          .then(result => {\n            toastr.success('Updated successfully');\n            this.$uibModalInstance.close(this.user);\n          })\n          .catch(err => {\n            toastr.error(err.data.message);\n          })\n      } else {\n        return this.UserApi.create(this.user)\n          .then(user => {\n            toastr.success('Created successfully');\n            this.$uibModalInstance.close(user);\n          })\n          .catch(err => {\n            toastr.error(err.data.message);\n          })        \n      }\n    }\n\n    validate() {\n      if (!this.user.username) {\n        toastr.error(\"Username is required\");\n        return false;\n      }\n\n      if (!this.user.password && !this.user._id) {\n        toastr.error(\"Password is required\");\n        return false;\n      } \n\n      if (!this.user.name) {\n        toastr.error(\"Name is required\");\n        return false;\n      } \n      \n      return true;\n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import BaseController from '../base-controller';\nimport UserDialog from '../user-dialog';\n\nexport default [\n  '$rootScope', '$state', '$timeout', '$sce', 'posgram', 'DialogService', 'UserApi',\n  class Controller extends BaseController {\n    constructor($rootScope, $state, $timeout, $sce, posgram, DialogService, UserApi) {\n      super();\n      this.$rootScope = $rootScope;\n      this.$state = $state;\n      this.$timeout = $timeout;\n      this.$sce = $sce;\n      this.posgram = posgram;\n      this.DialogService = DialogService;\n      this.UserApi = UserApi;\n    }\n\n    $onInit() {\n      this.pagination = {\n        page: 1,\n        limit: 10\n      };\n\n      this.search();\n    }\n\n    search() {\n      let query = this.searchText ? `text=${this.searchText}` : null;\n      this.UserApi.find(query, this.pagination)\n        .then(result => {\n          this.users = result.docs || [];\n          this.pagination = _.extend(this.pagination, _.pick(result, ['total', 'limit', 'page', 'pages']));\n        })\n    }\n\n    create() {\n      let inputs = {\n        user: null\n      };\n\n      this.DialogService.open(UserDialog, inputs)\n        .then(user => {\n          if (!user) return;\n          this.users.push(user);\n        })      \n    }\n\n    edit(user) {\n      let inputs = {\n        user: _.clone(user)\n      };\n\n      this.DialogService.open(UserDialog, inputs)\n        .then(user => {\n          if (!user) return;\n          let item = _.find(this.users, item => {\n            return item._id === user._id;\n          })\n          if (item) _.extend(item, user);\n        })      \n    }\n\n    getRole(user) {\n      if (user.isAdmin) return \"Admin\";\n      if (user.isManager) return \"Manager\";\n      return \"Staff\";\n    }\n\n    getStatus(user) {\n      if (user.isLocked) return \"Locked\";\n      return null;\n    }\n  }\n]\n","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","export default [\n  '$rootScope',\n  class Service {\n    constructor($rootScope) {\n      this.$rootScope = $rootScope;\n    }\n\n    get isAuthenticated() {\n      return true;\n    }\n  }\n]","export default [\n  '$scope', '$modalInstance', 'type', 'message',\n  class Controller {\n    constructor($scope, $modalInstance, type, message) {\n      this.$scope = $scope;\n      this.$uibModalInstance = $modalInstance;\n      this.type = type;\n      this.message = message;\n    }\n\n    closeModal(result) {\n      this.$uibModalInstance.close(result);\n    }\n  }\n]","import fs from 'fs';\nimport controller from './controller.js';\n\nconst template = fs.readFileSync(__dirname + '/template.html', 'utf8');\n\nexport default {\n  controller: controller,\n  template: template\n}\n","import ConfirmDialog from '../components/confirm-dialog';\n\nexport default [\n  '$modal', '$rootScope',\n  class Service {\n    constructor($modal, $rootScope) {\n      this.$uibModal = $modal;\n      this.$rootScope = $rootScope;\n    }\n\n    open(dialog, inputs, size) {\n      let options = {\n        size: size || 'md',\n        template: dialog.template,\n        controller: dialog.controller,\n        controllerAs: '$ctrl',\n        backdrop: 'static'\n      };\n\n      if (inputs) {\n        let resolve = {};\n        \n        Object.keys(inputs).forEach(key => {\n          resolve[key] = () => { return inputs[key]; }\n        })\n\n        Object.assign(options, { resolve: resolve });\n      }\n\n      return this.$uibModal.open(options).result;\n    }\n\n    confirm(message) {\n      let inputs = {\n        type: 'confirm',\n        message: message\n      };\n      \n      return this.open(ConfirmDialog, inputs, 'sm');\n    }\n\n    info(message) {\n      let inputs = {\n        type: 'info',\n        message: message\n      };\n      \n      return this.open(ConfirmDialog, inputs, 'sm');\n    }\n  }\n]","export default ['$rootScope',\n  class WebsocketService {\n    constructor($rootScope) {\n      this.$rootScope = $rootScope;\n      this.init();\n    }\n\n    get socketId() {\n      return this.socket && this.socket.id;\n    }\n\n    init() {\n      this.registers = []; //{id, topic, handler}\n\n      let arr = window.location.href.split(\"/\");\n      this.url = arr[0] + \"//\" + arr[2];\n\n      this.socket = io(this.url);\n      this.socket.on('connect', () => {\n        let token = window.localStorage.getItem('token');\n        this.socket.emit('authenticate', { token: token })\n          .on('authenticated', function () {\n            console.log('authenticated socket');\n          })\n          .on('unauthorized', function (msg) {\n            console.log(\"unauthorized: \" + JSON.stringify(msg.data));\n          })\n      })\n\n      this.socket.on('event', messsage => {\n        let data = JSON.parse(messsage);\n\n        let doDispatch = (register) => {\n          if (register.topic !== data.topic) return;\n          if (!register.handler || !angular.isFunction(register.handler)) return;\n          register.handler(data.data);\n        }\n        _.forEach(this.registers, register => doDispatch(register));\n      });\n\n      this.socket.on('disconnect', (socket) => {\n        console.log('disconnected socket');\n      });\n    }\n\n    register(topic, handler) {\n      let id = new Date().getTime();\n      this.registers.push({\n        id: id,\n        topic: topic,\n        handler: handler\n      });\n      return id;\n    }\n\n    unregister(id) {\n      _.remove(this.registers, item => {\n        return item.id === id;\n      });\n    }\n  }\n]","export default class BaseApi {\n  constructor($http, $q, posgram, resource) {\n    this.$http = $http;\n    this.$q = $q;\n    this.posgram = posgram;\n    this.endpoint = `${this.posgram.config.api}/${resource}`;\n  }\n\n  findById(id) {\n    let url = `${this.endpoint}/${id}`;\n\n    return this.$q((resolve, reject) => {\n      this.$http.get(url)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });\n  }\n\n  find(query, options) {\n    let url = `${this.endpoint}`;\n    if (query) url = `${url}?${query}`;\n    if (options) {\n      if (url.indexOf('?') < 0) url = `${url}?`;\n      if (options.page) url = `${url}&page=${options.page}`;\n      if (options.limit) url = `${url}&limit=${options.limit}`;\n    }\n\n    return this.$q((resolve, reject) => {\n      this.$http.get(url)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });    \n  }\n\n  create(data) {\n    let url = `${this.endpoint}`;\n\n    return this.$q((resolve, reject) => {\n      this.$http.post(url, data)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });\n  }\n\n  update(id, data) {\n    let url = `${this.endpoint}/${id}`;\n\n    return this.$q((resolve, reject) => {\n      this.$http.put(url, data)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });\n  }\n\n  delete(id) {\n    let url = `${this.endpoint}/${id}`;\n\n    return this.$q((resolve, reject) => {\n      this.$http.delete(url)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(err => {\n          reject(err);\n        });\n    });\n  }\n}","import BaseApi from './base-api'\n\nexport default ['$http', '$q', 'posgram',\n  class AuthApi extends BaseApi {\n    constructor($http, $q, posgram) {\n      super($http, $q, posgram, 'auth');\n    }\n\n    login(username, password) {\n      return this.$http.post(`${this.endpoint}/login`, null, {\n        headers: {\n          'Authorization': 'Basic ' + window.btoa(username + ':' + password)\n        }\n      })\n    }\n  }\n]","import BaseApi from './base-api'\n\nexport default ['$http', '$q', 'posgram',\n  class TenantApi extends BaseApi {\n    constructor($http, $q, posgram) {\n      super($http, $q, posgram, 'tenants');\n    }\n  }\n]","import BaseApi from './base-api'\n\nexport default ['$http', '$q', 'posgram',\n  class UserApi extends BaseApi {\n    constructor($http, $q, posgram) {\n      super($http, $q, posgram, 'users');\n    }\n  }\n]","import BaseApi from './base-api'\n\nexport default ['$http', '$q', 'posgram',\n  class MenuApi extends BaseApi {\n    constructor($http, $q, posgram) {\n      super($http, $q, posgram, 'menus');\n    }\n  }\n]","import BaseApi from './base-api'\n\nexport default ['$http', '$q', 'posgram',\n  class CategoryApi extends BaseApi {\n    constructor($http, $q, posgram) {\n      super($http, $q, posgram, 'categories');\n    }\n  }\n]","import BaseApi from './base-api'\n\nexport default ['$http', '$q', 'posgram',\n  class OrderApi extends BaseApi {\n    constructor($http, $q, posgram) {\n      super($http, $q, posgram, 'orders');\n    }\n  }\n]","import config from './config';\nimport route from './route';\nimport app from './components/app';\nimport login from './components/login';\nimport dashboard from './components/dashboard';\nimport tenantList from './components/tenant-list';\nimport tenantDetail from './components/tenant-detail';\nimport cart from './components/cart';\nimport orderList from './components/order-list';\nimport orderDetail from './components/order-detail';\nimport menuList from './components/menu-list';\nimport categoryList from './components/category-list';\nimport userList from './components/user-list';\nimport authService from './services/auth-service';\nimport dialogService from './services/dialog-service';\nimport websocketService from './services/websocket-service';\nimport authApi from './api/auth-api';\nimport tenantApi from './api/tenant-api';\nimport userApi from './api/user-api';\nimport menuApi from './api/menu-api';\nimport categoryApi from './api/category-api';\nimport orderApi from './api/order-api';\n\nangular\n  .module('posgram', [ 'ui.router', 'ui.bootstrap' ])\n  .component('posApp', app)  \n  .component('posLogin', login)  \n  .component('posDashboard', dashboard)\n  .component('posTenantList', tenantList)\n  .component('posTenantDetail', tenantDetail)\n  .component('posCart', cart)\n  .component('posOrderList', orderList)\n  .component('posOrderDetail', orderDetail)\n  .component('posMenuList', menuList)\n  .component('posCategoryList', categoryList)\n  .component('posUserList', userList)\n  .service('AuthService', authService)\n  .service('DialogService', dialogService)\n  .service('WebsocketService', websocketService)\n  .service('AuthApi', authApi)\n  .service('TenantApi', tenantApi)\n  .service('UserApi', userApi)\n  .service('MenuApi', menuApi)\n  .service('CategoryApi', categoryApi)\n  .service('OrderApi', orderApi)  \n  .constant('posgram', { config: config })\n  .config(route)\n  .config(['$locationProvider', function($locationProvider) {\n    $locationProvider.hashPrefix('');\n  }])\n  // .config(['$httpProvider', 'jwtInterceptorProvider', \n  //   function ($httpProvider, jwtInterceptorProvider) {\n  //     jwtInterceptorProvider.authPrefix = 'JWT ';\n  //     jwtInterceptorProvider.tokenGetter = function () {\n  //       return window.localStorage.getItem('token');\n  //     }\n\n  //     $httpProvider.interceptors.push('jwtInterceptor');\n  //   }\n  // ])\n  .run(['$rootScope', '$window', '$state', '$timeout', 'posgram', 'AuthService',\n    function ($rootScope, $window, $state, $timeout, posgram, AuthService) {\n      $rootScope.global = {};      \n\n      $rootScope.$on('$stateChangeSuccess', function (event, toState, toParams, fromState, fromParams) {\n        $window.scrollTo(0, 0);\n      });\n\n      $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {\n        if (!AuthService.isAuthenticated && toState.name != \"Login\") {\n          event.preventDefault();\n          $state.go(posgram.config.states.LOGIN);\n        }\n      });\n    }\n  ]);\n\nangular.element(document).ready(function () {\n  angular.bootstrap(document, ['posgram']);\n});\n\n"]}